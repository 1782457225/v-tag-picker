(function(t){function e(e){for(var i,r,s=e[0],l=e[1],c=e[2],p=0,g=[];p<s.length;p++)r=s[p],n[r]&&g.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={index:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/v-tag-picker/demo/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("c31f")},"0e2a":function(t,e,a){t.exports=a.p+"img/tagbg.e4ba97b5.png"},5353:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".vtag-item[data-v-3f14732c]{display:inline-block;padding:5px 15px;border-radius:3px;font-size:14px;white-space:nowrap;-webkit-box-sizing:border-box;box-sizing:border-box;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vtag-item-default[data-v-3f14732c]{background:#efefef;color:#444}.vtag-item-light[data-v-3f14732c]{color:#fff;background:#7c6cd9}",""])},"5fc6":function(t,e,a){"use strict";var i=a("e494"),n=a.n(i);n.a},8599:function(t,e,a){var i=a("5353");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("7b9e0e31",i,!0,{sourceMap:!1,shadowMode:!1})},"8ba3":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'@-webkit-keyframes grow-data-v-49c0a97d{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes grow-data-v-49c0a97d{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}to{-webkit-transform:scale(1);transform:scale(1)}}.vtag-wrap[data-v-49c0a97d]{position:fixed;top:0;bottom:0;left:0;right:0;background:#fff}.vtag-top[data-v-49c0a97d]{height:50px;background:#f2f2f2;font-size:0;margin-bottom:15px}.vtag-top[data-v-49c0a97d],.vtag-top__content[data-v-49c0a97d]{-webkit-box-sizing:border-box;box-sizing:border-box;position:relative}.vtag-top__content[data-v-49c0a97d]{padding:10px 15px;overflow:auto;white-space:nowrap;height:100%}.vtag-top__right[data-v-49c0a97d]{text-align:right;padding-right:15px;-webkit-box-sizing:border-box;box-sizing:border-box;width:94px;position:absolute;right:0;top:0;bottom:0;background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,96.1%,0)),to(#f5f5f5));background:linear-gradient(90deg,hsla(0,0%,96.1%,0),#f5f5f5)}.vtag-top__right[data-v-49c0a97d]:after{content:"";height:100%}.vtag-top__num[data-v-49c0a97d],.vtag-top__right[data-v-49c0a97d]:after{display:inline-block;vertical-align:middle}.vtag-top__num[data-v-49c0a97d]{font-size:16px;color:#fff;height:32px;line-height:32px;padding:0 6px;border-radius:16px;background:#000}.vtag-top__item[data-v-49c0a97d]{position:absolute;left:15px}.vtag-container[data-v-49c0a97d]{text-align:center;font-size:0;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.vtag-container[data-v-49c0a97d]:before{top:0}.vtag-container[data-v-49c0a97d]:after,.vtag-container[data-v-49c0a97d]:before{content:"";position:absolute;left:0;right:0;height:30px;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(180deg,#fff,hsla(0,0%,100%,0));z-index:2}.vtag-container[data-v-49c0a97d]:after{bottom:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.vtag-container__content[data-v-49c0a97d]{min-width:100px;overflow:auto;height:100%;padding:30px 25px;-webkit-box-sizing:border-box;box-sizing:border-box}.vtag-container__item[data-v-49c0a97d]{display:inline-block;margin:0 15px 15px 0;position:relative}.vtag-container__item.hide[data-v-49c0a97d]{margin:0;padding:0;width:0!important;height:0!important}.vtag-container__item.animate[data-v-49c0a97d]{-webkit-animation:grow-data-v-49c0a97d linear alternate;animation:grow-data-v-49c0a97d linear alternate}',""])},9802:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"body,html{max-width:640px}.img-wrap{text-align:center;height:94px;position:relative;padding-top:23px;-webkit-box-sizing:border-box;box-sizing:border-box}.img-wrap img{width:290px;height:94px;position:absolute;left:0;right:0;top:0;margin:auto}.img-wrap__title{position:relative;font-size:24px;color:#7c6cd9;margin-bottom:4px}.img-wrap__subtitle{position:relative;color:#999;font-size:14px}.footer{padding:25px 0;text-align:center}.footer a{text-decoration:none;color:#7c6cd9;font-size:14px}",""])},"9bb5":function(t,e,a){var i=a("9802");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("874adf68",i,!0,{sourceMap:!1,shadowMode:!1})},"9edf":function(t,e,a){"use strict";var i=a("8599"),n=a.n(i);n.a},c31f:function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("v-tag-picker",{attrs:{totalData:t.tagData.concat(t.tagData,t.tagData),multipleSelection:t.multipleSelection},on:{change:t.change}},[i("div",{staticClass:"img-wrap",attrs:{slot:"top"},slot:"top"},[i("img",{attrs:{src:a("0e2a"),alt:""}}),i("div",{staticClass:"img-wrap__title"},[t._v("最感兴趣的栏目")]),i("div",{staticClass:"img-wrap__subtitle"},[t._v("定制专属于我的课程栏目")])]),i("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[i("a",{attrs:{href:"#"}},[t._v("进入首页")])])])],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"vtag-wrap",staticClass:"vtag-wrap",style:{"z-index":t.zIndex}},[a("div",{ref:"top",staticClass:"vtag-top"},[a("div",{ref:"top-content",staticClass:"vtag-top__content",style:t.vtagTopContentStyle,on:{click:function(e){t.handleCancelVtag(e)},scroll:t.topScroll}},[t._l(t.selection,function(e,i){return a("VTagPickerItem",{key:i,staticClass:"vtag-top__item",style:{transition:"all "+t.animationDuration/1e3+"s"},attrs:{type:"light",name:e.name,totalSelectionKey:e[t.OnlyKey]}})}),a("div",{staticClass:"vtag-top-content__width",style:{width:t.vtopContentWidth,height:"1px"}})],2),t.showTagNum?a("div",{staticClass:"vtag-top__right"},[a("div",{staticClass:"vtag-top__num"},[t._v(t._s("+"+t.rightTagNum))])]):t._e()]),t._t("top"),a("div",{ref:"container",staticClass:"vtag-container"},[a("div",{staticClass:"vtag-container__content"},t._l(t.totalData,function(e,i){return a("VTagPickerItem",{key:i,staticClass:"vtag-container__item",style:{transition:"all "+t.animationDuration/1e3+"s",animationDuration:t.animationDuration/1e3+"s"},attrs:{name:e.name},on:{click:function(a){t.handleClickVtag(a,e)}}})}),1)]),a("div",{ref:"vtag-footer",staticClass:"vtag-footer"},[t._t("footer")],2)],2)},s=[];const l=(t,e,a)=>{let i,n=new Date;return function(){let o=this,r=Array.prototype.slice.call(arguments),s=new Date;clearTimeout(i),s-n>=a?(t.apply(o,r),n=s):i=setTimeout(function(){t.apply(o,r)},e)}},c=(t,e)=>{let a=null;return function(){let i=this,n=Array.prototype.slice.call(arguments);clearTimeout(a),a=setTimeout(function(){t.apply(i,n)},e)}},d=t=>{return new Promise(e=>{setTimeout(()=>{e()},t)})};var p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vtag-item",class:["vtag-item-"+t.type],attrs:{"totalSelection-key":t.totalSelectionKey},on:{click:t.handleClickVtag}},[t._v("\n  "+t._s(t.name)+"\n")])},g=[],f={name:"vTagPickerItem",props:{totalSelectionKey:{type:String},name:{type:String,required:!0},type:{type:String,default:"default"}},data(){return{}},methods:{handleClickVtag(t){this.$emit("click",t)}}},m=f,u=(a("9edf"),a("2877")),h=Object(u["a"])(m,p,g,!1,null,"3f14732c",null),v=h.exports,b={name:"vTagPicker",components:{VTagPickerItem:v},props:{zIndex:Number,totalData:{type:Array,default:()=>[]},multipleSelection:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},OnlyKey:{type:String,default:"name"}},data(){return{rightTagNum:0,vtagTopContentStyle:{},showTagNum:!1,selection:[],domQueue:[],animating:!1,totalSelection:[],vtopContentWidth:"100%",debounceResetContentTag:c(this.resetContentTag,1.5*this.animationDuration),topScroll:l(this.computedTagNumShow,100,200),hasSelectionDom:[],topVtagItemCache:null}},watch:{multipleSelection:{handler(t){this.selection=JSON.parse(JSON.stringify(t)),this.totalSelection=JSON.parse(JSON.stringify(t)),this.$nextTick(()=>{this.computedTagNumShow(),this.initTagPosition()})},immediate:!0},totalSelection(t){this.$emit("change",JSON.parse(JSON.stringify(t)))},totalData:{handler(t){this.$nextTick(()=>{this.computedContainerHeight()})},immediate:!0}},methods:{handleCancelVtag(t){let e=t.target,a=e.offsetWidth;if(e.classList.contains("vtag-item-default")||!e.classList.contains("vtag-item"))return;e.classList.remove("vtag-item-light"),e.classList.add("vtag-item-default");let i=this.totalSelection.findIndex(t=>t[this.OnlyKey]===e.getAttribute("totalSelection-key"));this.totalData.push(this.totalSelection[i]),this.totalSelection.splice(i,1),e.innerHTML="";let n=e;while(n.nextElementSibling&&n.nextElementSibling.classList.contains("vtag-item")){let t=n.nextElementSibling,e=Number(t.getAttribute("transform-x"))-a-15;t.setAttribute("transform-x",e),t.style.transform=`translate(${e}px, 0)`,n=t}e.parentNode.removeChild(e),this.computedTagNumShow()},handleClickVtag(t,e){t.target.classList.contains("vtag-item-light")||(t.target.classList.add("animate"),t.target.classList.add("vtag-item-light"),this.totalSelection.push(e),this.domQueue.push({event:t,data:e}),setTimeout(()=>{if(t.target.classList.remove("animate"),this.animating)return;let e=this.domQueue.shift();this.moveTag(e.event,e.data)},this.animationDuration))},async moveTag(t,e){this.animating=!0;let a=t.target,i=t.target.cloneNode(!0),n=a.getBoundingClientRect(),o=this.$refs["vtag-wrap"],r=this.$refs["top-content"];r.scrollLeft=0,i.style.position="fixed",i.style.left=`${n.x}px`,i.style.top=`${n.y}px`,o.appendChild(i),a.style.width=`${a.offsetWidth}px`,a.style.height=`${a.offsetHeight}px`,a.style.background="transparent",a.innerHTML="",await d(10),this.moveExist(t),i.style.transform=`translate(${15-n.x}px,${10-n.y}px)`,setTimeout(()=>{if(this.hasSelectionDom.push(a),this.debounceResetContentTag(),i.parentNode.removeChild(i),this.topPrepend(t,e),this.animating=!1,this.computedTagNumShow(),this.domQueue.length){let t=this.domQueue.shift();this.moveTag(t.event,t.data)}},this.animationDuration)},moveExist(t){let e=t.target,a=e.offsetWidth,i=this.$refs["top-content"].querySelectorAll(".vtag-item");i.forEach(t=>{let e=Number(t.getAttribute("transform-x"))+a+15;t.setAttribute("transform-x",e),t.style.transform=`translate(${e}px, 0)`})},topPrepend(t,e){let a=this.$refs["top-content"];if(this.selection.length){let t=this.topVtagItemCache.cloneNode(!0);t.setAttribute("totalSelection-key",e[this.OnlyKey]),t.innerHTML=e.name,a.prepend(t)}else this.selection.unshift(e),this.$nextTick(()=>{a.querySelector(".vtag-item").setAttribute("totalSelection-key",e[this.OnlyKey]),this.topVtagItemCache=a.querySelector(".vtag-item").cloneNode(!0)})},initTagPosition(){let t=this.$refs["top-content"].querySelectorAll(".vtag-item");t.length&&(this.topVtagItemCache=t[0].cloneNode(!0)),t.forEach((e,a)=>{e.setAttribute("transform-x",0),e.style.transform="translate(0px, 0)",e.style.left=0===a?"15px":`${t[a-1].offsetLeft+t[a-1].offsetWidth+15}px`})},computedTagNumShow(){const t=this.$refs["top-content"];if(t.scrollWidth===t.clientWidth)this.showTagNum=!1,this.$set(this.vtagTopContentStyle,"width","100%"),this.$set(this.vtagTopContentStyle,"paddingRight","15px");else{this.showTagNum=!0;let t=this.$refs["top-content"],e=t.querySelectorAll(".vtag-item"),a=e[e.length-1],i=a.getBoundingClientRect();this.$set(this.vtagTopContentStyle,"paddingRight","94px"),this.vtopContentWidth=`${a.offsetLeft+Number(a.getAttribute("transform-x"))+i.width+Number(t.style.paddingLeft)+94}px`,this.rightTagNum=0,e.forEach(e=>{let a=e.getBoundingClientRect(),i=window.getComputedStyle(t);a.left+a.width>t.clientWidth-Number(i.paddingLeft.replace("px",""))-Number(i.paddingRight.replace("px",""))&&this.rightTagNum++})}},computedContainerHeight(){const t=this.$refs["vtag-wrap"],e=this.$refs.container,a=this.$refs["vtag-footer"];e.style.height=`${t.offsetHeight-e.offsetTop-(a.offsetHeight||0)}px`},resetContentTag(){this.hasSelectionDom.forEach(t=>{t.classList.add("hide")})}},mounted(){},beforeDestroy(){}},x=b,y=(a("5fc6"),Object(u["a"])(x,r,s,!1,null,"49c0a97d",null)),w=y.exports;w.install=function(t){t.component(w.name,w)};var _=w;const k=[_],S=function(t){S.installed||k.map(e=>t.component(e.name,e))};"undefined"!==typeof window&&window.Vue&&S(window.Vue);var T={name:"app",components:{vTagPicker:_},data(){return{tagData:[{name:"心血管"},{name:"骨科"},{name:"呼吸"},{name:"血液"},{name:"精神"},{name:"内分泌"},{name:"肾内"},{name:"影像"},{name:"肿瘤"},{name:"神经"},{name:"整形外科"},{name:"科研论文"},{name:"普外"},{name:"罕见病"},{name:"风湿"},{name:"泌尿"},{name:"耳喉鼻"},{name:"妇产科"},{name:"感染"}],multipleSelection:[{name:"妇产科"},{name:"感染"}]}},methods:{change(t){console.log(t)}},mounted(){}},C=T,N=(a("e780"),Object(u["a"])(C,n,o,!1,null,null,null)),$=N.exports;i["a"].config.productionTip=!1,new i["a"]({render:t=>t($)}).$mount("#app")},e494:function(t,e,a){var i=a("8ba3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("446c7521",i,!0,{sourceMap:!1,shadowMode:!1})},e780:function(t,e,a){"use strict";var i=a("9bb5"),n=a.n(i);n.a}});
//# sourceMappingURL=index.c2c43f87.js.map